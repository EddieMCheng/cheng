D_TIM robot arm.3KK2EFhtD.09.95;
G:Vw=0,Vo=0,dT=0.04,bleConnect=M(CONNECT)<0.1&D(CONNECT.p)≡2?0!-1,bleDisconnect=M(DISCONNECT)<0.1&D(DISCONNECT.p)≡2?0!-1,bleSend='',moving=bleData[0][2]≡'move',slowed=bleData[0][2]≡'slow',magnet=bleData[0][2]≡'mag',mag1=slowed?parseFloat(bleData[0][6]/500),mag2=slowed?parseFloat(bleData[0][7]/500),mag3=slowed?parseFloat(bleData[0][8]/500),acc1=moving?parseFloat(bleData[0][3]),acc2=moving?parseFloat(bleData[0][4]),acc3=moving?parseFloat(bleData[0][5]),gyro1=moving?parseFloat(bleData[0][6])/18000!0,gyro2=moving?parseFloat(bleData[0][7])/18000!0,gyro3=moving?parseFloat(bleData[0][8])/18000!0,sign=acc3>0?1!-1,roll=≝atan2(acc1)(sign*getHyp(0.01*acc2)(acc3)),pitch=≝atan2(acc2)(getHyp(acc1)(acc3)),yaw=≝atan2(acc3)(getHyp(acc1)(acc2)),ango=no+roll/6.2832,no=no?no!0,no=D(TIM.o)-ango>0.5?no+1!D(TIM.o)-ango<-0.5?no-1,ango=no+roll/6.2832,nv=0,angv=nv+pitch/6.2832,roto=-gyro2*≝cos(pitch)+gyro3*≝sin(pitch),rotv=-gyro1*≝cos(roll)+gyro3*≝sin(roll),rotw=gyro3*sign*≝sin(yaw)+gyro2*≝sin(pitch)+gyro1*≝sin(roll)+(D(TIM.o)-ango)*≝sin(pitch)/22,info.name=round(roll)(3)+' '+round(pitch)(3)+' '+round(D(TIM.o)-ango)(3),TIM.o=0.95*(D(←.o)-roto)+0.05*ango,TIM.v=0.95*(D(←.v)+rotv)+0.05*angv,lastTIMo=D(TIM.o),angw=sign>0?(≝sin(pitch))*≝abs(D(TIM.v))!0.5-(≝sin(pitch))*≝abs(D(TIM.v)),TIM.w=D(←.w)-rotw,Vw=Mx,vee.v=D(TIM.v)-0.75,veefix.v=D(vee.v),Gyro.w=D(TIM.w),info.align='center',CONNECT→DISCONNECT.align='center',CONNECT.p=bleConnected?1!2,DISCONNECT.p=bleConnected?2!1,T='TIM robot arm',Vzu=2,this.datadiv.style.left='840px',this.datadiv.style.top='10px';
F:UI=info*2p+CONNECT*2y*a+DISCONNECT*2p*2y*a,Gyro*-8.449578328w=vee*0.04*1.1u*0.125o±0.125*-0.758263956v*a+veefix*0.9u±0.2*-0.758263956v*a+fix*0.1*1.2u*0.625v±0.125*0.25w*a+fix_0*-1.3y±0.1*a+fix_1*-1.15z±0.05*a,TIM*-4.995972156o*-0.008263956v*-8.449578328w=outline*0.25*u*0.25v*0.375w±0.5*a+led*0.1*0.5x*0.5z*0b*0.05u*0.25v*w±0.5*4a;
file:///C:/Users/Eddie/Documents/cheng/eddie/V.html